<UserControl x:Class="UsbComposite.Views.UsbComportView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" >
    <UserControl.Resources>
        <SolidColorBrush x:Key="DefaultForeground" Color="black"/>
        <SolidColorBrush x:Key="DefaultBackground" Color="White"/>
        <SolidColorBrush x:Key="DefaultBorder" Color="#808080"/>
        <SolidColorBrush x:Key="AccentBlueBackground" Color="#FF4C61EC"/>
        <SolidColorBrush x:Key="AccentWhiteForeground" Color="White"/>
        <SolidColorBrush x:Key="HoverBackground" Color="White"/>
        <SolidColorBrush x:Key="HoverBorder" Color="black"/>
        <SolidColorBrush x:Key="ComboBoxActiveBorder" Color="Black"/>

        <SolidColorBrush x:Key="DisabledBackground" Color="#E0E0E0"/>
        <SolidColorBrush x:Key="DisabledForeground" Color="#A0A0A0"/>
        <SolidColorBrush x:Key="DisabledBorder" Color="#C0C0C0"/>

        <SolidColorBrush x:Key="ComboBoxHoverBackground" Color="#F0F0F0"/>
        <SolidColorBrush x:Key="ComboBoxSelectedBackground" Color="#E0E0E0"/>
        <SolidColorBrush x:Key="ComboBoxDropDownBackground" Color="White"/>
        <SolidColorBrush x:Key="ComboBoxDropDownBorder" Color="#CCCCCC"/>

        <Style x:Key="CustomButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Background" Value="{StaticResource DefaultBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource DefaultForeground}"/>
            <Setter Property="BorderBrush" Value="{StaticResource DefaultBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="ButtonBorder"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="4">
                            <ContentPresenter x:Name="ButtonContent"
                                      Margin="{TemplateBinding Padding}"
                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource HoverBackground}"/>
                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource HoverBorder}"/>
                                <Setter Property="Foreground" Value="{StaticResource DefaultForeground}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource AccentBlueBackground}"/>
                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource AccentBlueBackground}"/>
                                <Setter Property="Foreground" Value="{StaticResource AccentWhiteForeground}"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="{StaticResource DisabledBackground}"/>
                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="{StaticResource DisabledBorder}"/>
                                <Setter Property="Foreground" Value="{StaticResource DisabledForeground}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="CustomComboBoxItemStyle" TargetType="{x:Type ComboBoxItem}">
            <Setter Property="Background" Value="{StaticResource DefaultBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource DefaultForeground}"/>
            <Setter Property="BorderBrush" Value="{StaticResource DefaultBackground}"/>
            <Setter Property="BorderThickness" Value="0"/>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ComboBoxItem}">
                        <Border x:Name="Bd"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        Padding="{TemplateBinding Padding}"
                        CornerRadius="0"
                        SnapsToDevicePixels="true">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="{StaticResource ComboBoxHoverBackground}"/>
                                <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource ComboBoxHoverBackground}"/>
                                <Setter Property="Foreground" Value="{StaticResource DefaultForeground}"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="{StaticResource ComboBoxSelectedBackground}"/>
                                <Setter Property="Foreground" Value="{StaticResource DefaultForeground}"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="{StaticResource DisabledForeground}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="CustomComboBoxStyle" TargetType="ComboBox">
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="Gray"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <Border x:Name="Border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4"
                            Padding="4">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="20"/>
                                    </Grid.ColumnDefinitions>

                                    <ContentPresenter
                                    Margin="2,0,0,0"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Left"
                                    Content="{TemplateBinding SelectionBoxItem}"
                                    ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                    IsHitTestVisible="False" />

                                    <ToggleButton Grid.Column="1"
                                    x:Name="PART_ToggleButton"
                                    Focusable="False"
                                    IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                    ClickMode="Press"
                                    Background="Transparent"
                                    BorderThickness="0">
                                        <Path x:Name="Arrow"
                                        Data="M 0 0 L 4 4 L 8 0 Z"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Fill="Black"/>
                                    </ToggleButton>
                                </Grid>
                            </Border>

                            <Popup x:Name="PART_Popup"
                           Placement="Bottom"
                           IsOpen="{TemplateBinding IsDropDownOpen}"
                           AllowsTransparency="True"
                           Focusable="False"
                           PopupAnimation="Slide">
                                <Grid MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                  MinWidth="{TemplateBinding ActualWidth}">
                                    <Border Background="White"
                                    BorderBrush="Gray"
                                    BorderThickness="1"
                                    CornerRadius="4"/>
                                    <ScrollViewer>
                                        <StackPanel IsItemsHost="True"
                                        KeyboardNavigation.DirectionalNavigation="Contained"/>
                                    </ScrollViewer>
                                </Grid>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Background" Value="#FFE5E5E5"/>
                                <Setter TargetName="Border" Property="BorderBrush" Value="#FFAAAAAA"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="DarkGray"/>
                            </Trigger>
                            <Trigger Property="IsKeyboardFocused" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="DodgerBlue"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </UserControl.Resources>
    <!--Background="#738A9C" -->
    <Viewbox Stretch="Uniform">
        <Grid Width="1300" Height="800">
            <Border 
           
            CornerRadius="20"
            BorderBrush="#CCCCCC"
            BorderThickness="0">
        <Grid Margin="10" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="20*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="20*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="3*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="18*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="2*" />
                <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

            <!-- Gửi từng dòng -->
            <Border Grid.Row="3" Grid.Column="1"
       
        BorderBrush="#738A9C"
        BorderThickness="0"
        CornerRadius="5"
        Background="White">

                <Grid Margin="10" >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <!-- Hàng 1: TextBlock -->
                        <RowDefinition Height="9*"/>
                        <!-- Hàng 2: DataGrid -->
                    </Grid.RowDefinitions>

                    <!-- Hàng 1 -->
                    <TextBlock Grid.Row="0"
                   Text="Gửi từng dòng"
                   FontSize="16"
                   FontFamily="Segoe UI Semibold"/>

                    <!-- Hàng 2 -->
                    <Border Grid.Row="1" BorderThickness="0" Background="White">
                        <DataGrid x:Name="dgCdcSend"
              AutoGenerateColumns="False"
              CanUserAddRows="True"
              CanUserDeleteRows="True"
              HeadersVisibility="Column"
              SelectionMode="Single"
              ItemsSource="{Binding CdcVM.FramesToSend}"  
              Background="White"
              BorderThickness="0"
              GridLinesVisibility="None"
              FontSize="12"
              FontFamily="Segoe UI Semibold" 
             >

                            <DataGrid.Resources>
                                <!-- Header style -->
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="Foreground" Value="Black"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="Background" Value="White"/>
                                    <Setter Property="BorderThickness" Value="0"/>
                                </Style>

                                <!-- Cell style -->
                                <Style TargetType="DataGridCell">
                                    <Setter Property="Foreground" Value="#4A4A4A"/>
                                    <Setter Property="Background" Value="White"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <!-- Comment 2 dòng dưới nếu muốn tắt viền dưới -->
                                    <Setter Property="BorderThickness" Value="0,0,0,1"/>
                                            <Setter Property="BorderBrush" Value="#FF979393"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Left"/>
                                            <Style.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="WhiteSmoke"/>
                                            <Setter Property="Foreground" Value="#4A4A4A"/>
                                            <Setter Property="BorderThickness" Value="0"/>
                                            <Setter Property="BorderBrush" Value="Transparent"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGrid.Resources>

                            <DataGrid.Columns>
                                        <DataGridTextColumn Header="Data" Width="*" Binding="{Binding DataString, UpdateSourceTrigger=PropertyChanged}">
                                            <DataGridTextColumn.ElementStyle>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                                    <Setter Property="Padding" Value="4,0,0,0"/>
                                                </Style>
                                            </DataGridTextColumn.ElementStyle>
                                            <DataGridTextColumn.EditingElementStyle>
                                                <Style TargetType="TextBox">
                                                    <Setter Property="VerticalContentAlignment" Value="Center"/>
                                                    <Setter Property="HorizontalContentAlignment" Value="Left"/>
                                                    <Setter Property="Padding" Value="4,0,0,0"/>
                                                </Style>
                                            </DataGridTextColumn.EditingElementStyle>
                                        </DataGridTextColumn>

                                        <DataGridTemplateColumn Header="Type" Width="90">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <ComboBox 
                                                Style="{StaticResource CustomComboBoxStyle}" 
                                                SelectedValue="{Binding DataType, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                  SelectedValuePath="Content"
                                  >
                                                <ComboBoxItem Content="ASCII" />
                                                <ComboBoxItem Content="Hex" />
                                                <ComboBoxItem Content="Dec" />
                                            </ComboBox>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                    <DataGridTemplateColumn.CellEditingTemplate>
                                        <DataTemplate>
                                            <ComboBox Style="{StaticResource CustomComboBoxStyle}" 
                                                SelectedValue="{Binding DataType, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                  SelectedValuePath="Content"
                                 >
                                                <ComboBoxItem Content="ASCII" />
                                                <ComboBoxItem Content="Hex" />
                                                <ComboBoxItem Content="Dec" />
                                            </ComboBox>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellEditingTemplate>
                                </DataGridTemplateColumn>

                                <DataGridTemplateColumn Header="Gửi" Width="70">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Content="Gửi"
                                                    Style="{StaticResource CustomButtonStyle}"
                               
                                Command="{Binding DataContext.CdcVM.SendCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                CommandParameter="{Binding}"
                                IsEnabled="{Binding DataContext.CdcVM.IsSerialOpen, RelativeSource={RelativeSource AncestorType=UserControl}}" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>


                </Grid>
            </Border>


            <!-- Tùy chọn gửi -->
            <Border Grid.Row="1" Grid.Column="1"
        BorderBrush="#2C3E50" BorderThickness="0" CornerRadius="5" 
        Background="White">
                <GroupBox  BorderThickness="0" Foreground="Black" FontSize="14" FontFamily="Segoe UI Semibold" >

                    <!-- Bên trong GroupBox tạo Grid 4 hàng 4 cột -->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <!-- Hàng 0 -->
                            <RowDefinition Height="*" />
                            <!-- Hàng 1 -->
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <!-- Cột 0 -->
                            <ColumnDefinition Width="5*" />
                            <!-- Cột 1 -->
                            <ColumnDefinition Width="*" />
                            <!-- Cột 2 -->
                            <ColumnDefinition Width="5*" />
                            
                            <ColumnDefinition Width="*" />
                            <!-- Cột 1 -->
                            <ColumnDefinition Width="5*" />
                            <!-- Cột 2 -->
                            <ColumnDefinition Width="*" />
                                    <!-- Cột 3 -->
                        </Grid.ColumnDefinitions>

                        <!-- Text "Tùy chọn gửi" nằm giữa, spanning 4 cột ở hàng 0 -->
                        <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="4" Text="Tùy chọn gửi"
                       HorizontalAlignment="Left" VerticalAlignment="Center"
                       FontSize="16" Margin="0,0,0,10" />


                        <!-- Checkbox CR ở hàng 1, cột 3 -->
                        <CheckBox Grid.Row="1" Grid.Column="1"  Content="CR (Carriage Return)"
                      IsChecked="{Binding CdcVM.AppendCR}"  VerticalAlignment="Center" />

                        <!-- Checkbox LF ở hàng 2, cột 3 -->
                        <CheckBox Grid.Row="1" Grid.Column="3" Content="LF (Line Feed)"
                      IsChecked="{Binding CdcVM.AppendLF}" VerticalAlignment="Center"/>

                        <!-- Nút Gửi file, nằm cột 1, gom hàng 1 và 2 -->
                        <Button Grid.Row="1" Grid.Column="5" 
                    Content="Gửi file"
                    Command="{Binding CdcVM.SendFileCommand}"
                    IsEnabled="{Binding CdcVM.IsSerialOpen}"
                    Style="{StaticResource CustomButtonStyle}"/>
                    </Grid>
                </GroupBox>
            </Border>


            <!-- Nhận dữ liệu -->
            <Border Grid.Row="3" Grid.Column="3"
        BorderBrush="#738A9C"
        BorderThickness="0"
        CornerRadius="5"
        Background="White">
                <GroupBox
        Header="Nhận dữ liệu"
        BorderBrush="#738A9C"
        Margin="0,10,10,10"
        BorderThickness="0"
        FontSize="16"  
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch" FontFamily="Segoe UI Semibold">

                    <!-- Dùng Grid để TextBox tự động chiếm hết -->
                    <Grid>
                        
                                <TextBox x:Name="txtReceiveLog"
                       Margin="5"
                     FontSize="12"
                     Foreground="#262626"
                     IsReadOnly="True"
                               IsUndoEnabled="False" 
                     TextWrapping="NoWrap"
                     VerticalScrollBarVisibility="Auto"
                     HorizontalScrollBarVisibility="Auto"
                     AcceptsReturn="True"
                     AcceptsTab="True"
                     Background="{x:Null}"
                     BorderThickness="0"
                     HorizontalAlignment="Stretch"
                     VerticalAlignment="Stretch"/>
                        
                        <!--
                                <TextBox x:Name="txtReceiveLog"
         Margin="5"
         FontSize="12"
         Foreground="#262626"
         IsReadOnly="True"
         IsUndoEnabled="False"
         TextWrapping="NoWrap"
         VerticalScrollBarVisibility="Auto"
         HorizontalScrollBarVisibility="Auto"
         AcceptsReturn="True"
         AcceptsTab="True"
         Background="{x:Null}"
         BorderThickness="0"
         HorizontalAlignment="Stretch"
         VerticalAlignment="Stretch"
         Text="{Binding CdcVM.ReceiveLog, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" /> -->
                            </Grid>

                </GroupBox>
            </Border>


            <!-- Hiển thị & Điều khiển nhận -->
            <!--
            <Border Grid.Row="1" Grid.Column="3"
        BorderThickness="0" CornerRadius="5" 
        Background="White">

                        <GroupBox Header="Hiển thị + Điều khiển nhận" BorderThickness="0"  Foreground="Black" FontSize="14" FontWeight="Bold" >
                    <StackPanel Orientation="Vertical">
                        <StackPanel Orientation="Horizontal" Margin="0,10,0,10" HorizontalAlignment="Left">
                            <Label Content="Display:" VerticalAlignment="Center" Foreground="#4A4A4A" FontSize="14"/>
                            <ComboBox x:Name="cmbDisplayMode" 
                                       Style="{StaticResource CustomComboBoxStyle}" 
                                      Width="100" Margin="5,0" SelectedIndex="0" HorizontalAlignment="Center" FontSize="12" >
                                <ComboBoxItem Content="ASCII"/>
                                <ComboBoxItem Content="Hex"/>
                                <ComboBoxItem Content="Dec"/>
                            </ComboBox>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,5" >

                                    <Button Content="Lưu log"
                                Command="{Binding CdcVM.SaveLogCommand}"
                                Width="100"
                                Style="{StaticResource CustomButtonStyle}"/>
                                </StackPanel>
                        <Button Content="Xóa"
                                Command="{Binding CdcVM.ClearReceiveCommand}"
                                 Style="{StaticResource CustomButtonStyle}"
                                Width="100"
                                Margin="0,10,10,0"
                                HorizontalAlignment="Left" />
                    </StackPanel>
                </GroupBox>
            </Border>
-->
                    <Border Grid.Row="1" Grid.Column="3"
                            BorderThickness="0" CornerRadius="5" 
                            Background="White">
                        <GroupBox  BorderThickness="0" Foreground="#262626" FontSize="14" FontFamily="Segoe UI Semibold">
                            <Grid >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <!-- Hàng header -->
                                    <RowDefinition Height="*"/>
                                    <!-- Hàng nội dung -->
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <!-- Cột 0 -->
                                    <ColumnDefinition Width="5*" />
                                    <!-- Cột 1 -->
                                    <ColumnDefinition Width="*" />
                                    <!-- Cột 2 -->
                                    <ColumnDefinition Width="5*" />

                                    <ColumnDefinition Width="*" />
                                    <!-- Cột 1 -->
                                    <ColumnDefinition Width="5*" />
                                    <!-- Cột 2 -->
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <!-- Hàng tiêu đề -->

                                <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="6" Text="Hiển thị + Điều khiển nhận"
                       HorizontalAlignment="Left" VerticalAlignment="Center"
                       FontSize="16"  />

                                <!-- Cột 1: ComboBox Display -->
                                <Grid Grid.Row="1" Grid.Column="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <Label Content="Display " VerticalAlignment="Center" Grid.Column="0"/>
                                    <ComboBox x:Name="cmbDisplayMode"
              Style="{StaticResource CustomComboBoxStyle}"
              SelectedIndex="0"
              Grid.Column="1">
                                        <ComboBoxItem Content="ASCII"/>
                                        <ComboBoxItem Content="Hex"/>
                                        <ComboBoxItem Content="Dec"/>
                                    </ComboBox>
                                </Grid>


                                <!-- Cột 3: Lưu log -->
                                <Button Grid.Row="1" Grid.Column="3"
            Content="Lưu log"
            Command="{Binding CdcVM.SaveLogCommand}"
            Style="{StaticResource CustomButtonStyle}"/>

                                <!-- Cột 5: Xóa -->
                                <Button Grid.Row="1" Grid.Column="5" Content="Xóa"
            Command="{Binding CdcVM.ClearReceiveCommand}"
            Style="{StaticResource CustomButtonStyle}" />
                            </Grid>
                        </GroupBox>
                    </Border>

                    <Border Grid.Row="5" Grid.Column="1"  Grid.ColumnSpan="3"  
                            BorderBrush="#FF172976"
                       CornerRadius="10" Background="White" >

                        <TextBlock Text="Trạng thái kết nối  " 
                                   FontSize="30" FontWeight="Bold" 
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center" Foreground="#FFDA6300"/>
                    </Border>
                </Grid>
            </Border>
        </Grid>
    </Viewbox>
</UserControl>
